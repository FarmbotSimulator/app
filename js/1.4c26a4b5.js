(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{0:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"476a":function(e,t,a){},"634c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("q-page",{ref:"botsElement",staticClass:"padding bg-grey-1 full-height noOverflow"},[t("div",{staticClass:"webots-view-container"},[t("webots-view",{staticClass:"webots-view",attrs:{"data-thumbnail":`/robots/${e.world}/${e.world}.jpg`,"data-scene":`/robots/${e.world}/${e.world}.x3d`,"data-animation":`/robots/${e.world}/${e.world}.json`}})],1),t("q-page-sticky",{attrs:{position:"bottom-left",offset:[18,18]}},["undefined"!==typeof e.brianMechanisms.selectedInstance&&0!==e.brianMechanisms.selectedInstance?t("instanceEditBtn",{attrs:{brianMechanisms:e.brianMechanisms,instanceNumber:e.brianMechanisms.selectedInstance,parent:e.parent}}):e._e()],1),t("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[t("q-btn",{style:"z-index:1000",attrs:{fab:"",icon:"add",color:"primary",disable:e.disableMoreScreens},on:{click:function(t){return e.createInstance()}}})],1),e.sideBarOpen?t("simulatorSideBar",{attrs:{brianMechanisms:e.brianMechanisms,parent:e.parent,instanceNumber:e.brianMechanisms.selectedInstance}}):e._e()],1)},i=[],s=a("ee09"),r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"absolute-bottom"},[t("q-btn",{attrs:{round:"",size:"sm",icon:"settings",color:"primary"},on:{click:e.openSideBar}})],1)])},o=[],l={name:"instanceEditBtn",components:{},props:["brianMechanisms","instanceNumber","parent"],data(){return{}},async created(){},methods:{openSideBar(){this.brianMechanisms.initEditInstance(this.instanceNumber),this.parent.openSideBar(this.instanceNumber)}},computed:{},watch:{}},c=l,p=a("2877"),d=a("9c40"),u=a("eebe"),h=a.n(u),m=Object(p["a"])(c,r,o,!1,null,null,null),b=m.exports;h()(m,"components",{QBtn:d["a"]});var f=function(){var e=this,t=e._self._c;return t("q-drawer",{staticClass:"bg-primary",staticStyle:{"overflow-y":"scroll"},attrs:{bordered:"",side:"right",width:e.rightSideBarSize,overlay:"",breakpoint:2,behavior:"desktop"},model:{value:e.rightSidebarOpen,callback:function(t){e.rightSidebarOpen=t},expression:"rightSidebarOpen"}},[t("q-toolbar",{staticClass:"bg-primary text-white",staticStyle:{height:"10%"}},[t("q-toolbar-title",{staticClass:"q-mt-md q-ml-md"},[t("span",{staticClass:"text-weight-bold q-pt-lg"},[e._v("Farmbot Simulator")]),t("br"),t("span",{staticClass:"text-caption",staticStyle:{"font-size":"0.8em"}},[e._v("Instance Settings")])]),t("q-btn",{attrs:{fab:"",dense:"",icon:"done",color:"primary",label:"Apply"},on:{click:e.applyInstance}}),t("q-btn",{attrs:{fab:"",dense:"",icon:"delete",color:"red",label:"Destroy Robot"},on:{click:function(t){e.brianMechanisms.destroyInstance(),e.closeSelf(!1)}}}),t("q-btn",{attrs:{fab:"",dense:"",icon:"delete",color:"red",label:"Destroy All Robots"},on:{click:function(t){e.brianMechanisms.deleteAllInstances(),e.closeSelf(!1)}}}),t("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:e.closeSelf}})],1),t("q-splitter",{staticClass:"absolute full-width bg-grey-1",staticStyle:{height:"90%"},attrs:{limits:[0,1/0]},scopedSlots:e._u([{key:"before",fn:function(){return[t("div",{staticClass:"q-pa-sm"},[t("q-expansion-item",{attrs:{icon:"dashboard","expand-icon-toggle":"","expand-separator":"",label:"Application",caption:"The area where the robot is to be employed"},on:{show:function(t){return e.showText("application")}}},[t("div",{staticClass:"q-pa-md"},[t("q-select",{attrs:{filled:"",label:"Application",options:e.applications},on:{input:e.updateApplication},model:{value:e.application,callback:function(t){e.application=t},expression:"application"}})],1)]),"Agriculture"===e.application?t("agriculture",{attrs:{brianMechanisms:e.brianMechanisms,parent:e.parent,instanceNumber:e.brianMechanisms.selectedInstance}}):e._e()],1)]},proxy:!0},{key:"after",fn:function(){return[t("div",{staticClass:"q-pa-md"},[t("texts",{attrs:{selectedSectionText:e.selectedSectionText}})],1)]},proxy:!0}]),model:{value:e.splitterModel,callback:function(t){e.splitterModel=t},expression:"splitterModel"}}),t("div")],1)},g=[],y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"q-pa-sm"},[t("q-expansion-item",{attrs:{icon:"place","expand-icon-toggle":"","expand-separator":"",label:"Garden Location",caption:"Location of Garden in Virtual Farm"}},[t("div",{staticClass:"q-pa-md"},[t("q-input",{attrs:{type:" number",label:"Garden Position X(mm)"},on:{input:function(t){return e.updateParam("gardenX")}},model:{value:e.gardenX,callback:function(t){e.gardenX=t},expression:"gardenX"}}),t("q-input",{attrs:{type:"number",label:"Garden Position Y(mm)"},on:{input:function(t){return e.updateParam("gardenY")}},model:{value:e.gardenY,callback:function(t){e.gardenY=t},expression:"gardenY"}}),t("q-input",{attrs:{type:"number",label:"Rotation(degrees)"},on:{input:function(t){return e.updateParam("orientation")}},model:{value:e.orientation,callback:function(t){e.orientation=t},expression:"orientation"}})],1)]),t("q-expansion-item",{attrs:{icon:"agriculture","expand-icon-toggle":"","expand-separator":"",label:"Robot Settings",caption:"Select Robot Model and Size"}},[t("div",{staticClass:"q-pa-md"},[t("q-select",{attrs:{filled:"",label:"Bot Type",options:e.botTypes},on:{input:e.updateBotType},model:{value:e.botType,callback:function(t){e.botType=t},expression:"botType"}}),"FarmBot"===e.botType?t("FarmBot",{attrs:{brianMechanisms:e.brianMechanisms,agriculture:e.agriculture,instanceNumber:e.brianMechanisms.selectedInstance}}):e._e(),"FarmBot Mod"===e.botType?t("FarmBotMod",{attrs:{brianMechanisms:e.brianMechanisms,agriculture:e.agriculture,instanceNumber:e.brianMechanisms.selectedInstance}}):e._e(),"BM CableBot"===e.botType?t("BMCableBot",{attrs:{brianMechanisms:e.brianMechanisms,agriculture:e.agriculture,instanceNumber:e.brianMechanisms.selectedInstance}}):e._e(),"BrianMechanism"===e.botType?t("BrianMechanism",{attrs:{brianMechanisms:e.brianMechanisms,agriculture:e.agriculture,instanceNumber:e.brianMechanisms.selectedInstance}}):e._e()],1)]),t("q-expansion-item",{attrs:{icon:"yard","expand-icon-toggle":"","expand-separator":"",label:"Garden Size",caption:"Size and location of the new garden"}},[t("div",{staticClass:"q-pa-md"},[t("q-input",{attrs:{type:"number",label:"Garden Length(mm)"},on:{input:function(t){return e.updateParam("botLength")}},model:{value:e.botLength,callback:function(t){e.botLength=t},expression:"botLength"}}),t("q-input",{attrs:{type:"number",label:"Garden Width(mm)"},on:{input:function(t){return e.updateParam("botWidth")}},model:{value:e.botWidth,callback:function(t){e.botWidth=t},expression:"botWidth"}}),t("q-input",{attrs:{type:"number",label:`Plant Height(mm) ${e.plantHeightLimits[0]}-${e.plantHeightLimits[1]}`},on:{input:function(t){return e.updateParam("plantHeight")}},model:{value:e.plantHeight,callback:function(t){e.plantHeight=t},expression:"plantHeight"}})],1)]),"undefined"!==typeof e.botType&&""!==e.botType?t("controllers",{attrs:{brianMechanisms:e.brianMechanisms,parent:e.parent,instanceNumber:e.brianMechanisms.selectedInstance}}):e._e()],1)},v=[],M=function(){var e=this,t=e._self._c;return t("div",[t("q-select",{attrs:{filled:"",label:"Bot Model",options:e.botModels},on:{input:function(t){return e.updateParam("botModel")}},model:{value:e.botModel,callback:function(t){e.botModel=t},expression:"botModel"}}),t("q-select",{attrs:{filled:"",options:e.bedTypes,label:"Bed Type"},on:{input:function(t){return e.updateParam("bedType")}},model:{value:e.bedType,callback:function(t){e.bedType=t},expression:"bedType"}}),e.canRaise&&"Wooden"===e.bedType?t("div",[t("q-checkbox",{attrs:{label:"Raised Bed?",disable:!e.canRaise},on:{input:function(t){return e.updateParam("raised")}},model:{value:e.raised,callback:function(t){e.raised=t},expression:"raised"}}),e.raised?t("q-input",{attrs:{type:"number",label:"Raised Bed Height(mm)"},on:{input:function(t){return e.updateParam("raisedHeight")}},model:{value:e.raisedHeight,callback:function(t){e.raisedHeight=t},expression:"raisedHeight"}}):e._e()],1):e._e()],1)},S=[],x={name:"FarmBot",components:{},props:["brianMechanisms","instanceNumber","agriculture"],data(){return{botModels:[],botModel:"",bedTypes:[],bedType:"",canRaise:!1,raised:!1,raisedHeight:0}},async created(){this.botModels=this.brianMechanisms.botModels("FarmBot"),this.instance=this.brianMechanisms.instances[this.instanceNumber],this._appManager=this.instance._appManager,this.readParams()},methods:{updateParam(e){this._appManager.updateParam(e,this[e]),this.readParams()},readParams(){let{botModel:e,bedTypes:t,bedType:a,canRaise:n,raised:i,raisedHeight:s}=this.agriculture.readBotModelParams();this.botModel=e,this.bedTypes=t,this.bedType=a,this.canRaise=n,this.raised=i,this.raisedHeight=s}},computed:{},watch:{}},w=x,T=a("ddd8"),k=a("8f8e"),q=a("27f9"),_=Object(p["a"])(w,M,S,!1,null,null,null),B=_.exports;h()(_,"components",{QSelect:T["a"],QCheckbox:k["a"],QInput:q["a"]});var C=function(){var e=this,t=e._self._c;return t("div",[t("q-select",{attrs:{filled:"",label:"Bot Model",options:e.botModels},on:{input:function(t){return e.updateParam("botModel")}},model:{value:e.botModel,callback:function(t){e.botModel=t},expression:"botModel"}}),t("q-select",{attrs:{filled:"",options:e.bedTypes,label:"Bed Type"},on:{input:function(t){return e.updateParam("bedType")}},model:{value:e.bedType,callback:function(t){e.bedType=t},expression:"bedType"}}),""!==e.botModel?t("q-input",{attrs:{type:"number",label:"Number of Gantries"},on:{input:function(t){return e.updateParam("numGantries")}},model:{value:e.numGantries,callback:function(t){e.numGantries=t},expression:"numGantries"}}):e._e(),""!==e.botModel?t("q-input",{attrs:{type:"number",label:"Number of Z Axes"},on:{input:function(t){return e.updateParam("zAxesperGantry")}},model:{value:e.zAxesperGantry,callback:function(t){e.zAxesperGantry=t},expression:"zAxesperGantry"}}):e._e(),e.canRaise&&"Wooden"===e.bedType?t("div",[t("q-checkbox",{attrs:{label:"Raised Bed?",disable:!e.canRaise},on:{input:function(t){return e.updateParam("raised")}},model:{value:e.raised,callback:function(t){e.raised=t},expression:"raised"}}),e.raised?t("q-input",{attrs:{type:"number",label:"Raised Bed Height(mm)"},on:{input:function(t){return e.updateParam("raisedHeight")}},model:{value:e.raisedHeight,callback:function(t){e.raisedHeight=t},expression:"raisedHeight"}}):e._e()],1):e._e()],1)},P=[],I={name:"FarmBotMod",components:{},props:["brianMechanisms","instanceNumber","agriculture"],data(){return{botModels:[],botModel:"",bedTypes:[],bedType:"",canRaise:!1,raised:!1,raisedHeight:0,numGantries:2,zAxesperGantry:2}},async created(){this.botModels=this.brianMechanisms.botModels("FarmBot Mod"),this.instance=this.brianMechanisms.instances[this.instanceNumber],this._appManager=this.instance._appManager,this.readParams()},methods:{updateParam(e){"numGantries"===e&&(this.numGantries<1?this.numGantries=1:this.numGantries>10&&(this.numGantries=10)),"zAxesperGantry"===e&&(this.zAxesperGantry<1?this.zAxesperGantry=1:this.zAxesperGantry>10&&(this.zAxesperGantry=10)),this._appManager.updateParam(e,this[e]),this.readParams()},readParams(){let{botModel:e,bedTypes:t,bedType:a,canRaise:n,raised:i,raisedHeight:s,zAxesperGantry:r,numGantries:o}=this.agriculture.readBotModelParams();this.botModel=e,this.bedTypes=t,this.bedType=a,this.canRaise=n,this.raised=i,this.raisedHeight=s,this.numGantries=o,this.zAxesperGantry=r}},computed:{},watch:{}},H=I,A=Object(p["a"])(H,C,P,!1,null,null,null),R=A.exports;h()(A,"components",{QSelect:T["a"],QInput:q["a"],QCheckbox:k["a"]});var G=function(){var e=this,t=e._self._c;return t("div",[t("q-select",{attrs:{filled:"",label:"Bot Model",options:e.botModels},on:{input:function(t){return e.updateParam("botModel")}},model:{value:e.botModel,callback:function(t){e.botModel=t},expression:"botModel"}}),t("q-select",{attrs:{filled:"",options:e.bedTypes,label:"Bed Type"},on:{input:function(t){return e.updateParam("bedType")}},model:{value:e.bedType,callback:function(t){e.bedType=t},expression:"bedType"}}),""!==e.botModel?t("q-input",{attrs:{type:" number",label:"Number of Cable Sets(1-2)"},on:{input:function(t){return e.updateParam("numCableSets")}},model:{value:e.numCableSets,callback:function(t){e.numCableSets=t},expression:"numCableSets"}}):e._e(),e.canRaise&&"Wooden"===e.bedType?t("div",[t("q-checkbox",{attrs:{label:"Raised Bed?",disable:!e.canRaise},on:{input:function(t){return e.updateParam("raised")}},model:{value:e.raised,callback:function(t){e.raised=t},expression:"raised"}})],1):e._e()],1)},Q=[],U={name:"BMCableBot",components:{},props:["brianMechanisms","instanceNumber","agriculture"],data(){return{botModels:[],botModel:"",bedTypes:[],bedType:"",canRaise:!1,raised:!1,numCableSets:1}},async created(){this.botModels=this.brianMechanisms.botModels("BM CableBot"),this.instance=this.brianMechanisms.instances[this.instanceNumber],this._appManager=this.instance._appManager,this.readParams()},methods:{updateParam(e){"numCableSets"===e&&(this.numCableSets=this.numCableSets<1?1:this.numCableSets>2?2:this.numCableSets),this._appManager.updateParam(e,this[e]),this.readParams()},readParams(){let e=this.agriculture.readBotModelParams(),{botModel:t,bedTypes:a,bedType:n,canRaise:i,raised:s,numCableSets:r}=e;this.botModel=t,this.bedTypes=a,this.bedType=n,this.canRaise=i,this.raised=s,this.numCableSets=r}},computed:{},watch:{}},N=U,F=Object(p["a"])(N,G,Q,!1,null,null,null),O=F.exports;h()(F,"components",{QSelect:T["a"],QInput:q["a"],QCheckbox:k["a"]});var L=function(){var e=this,t=e._self._c;return t("div",[t("q-select",{attrs:{filled:"",label:"Bot Model",options:e.botModels},on:{input:function(t){return e.updateParam("botModel")}},model:{value:e.botModel,callback:function(t){e.botModel=t},expression:"botModel"}}),t("q-select",{attrs:{filled:"",options:e.bedTypes,label:"Bed Type"},on:{input:function(t){return e.updateParam("bedType")}},model:{value:e.bedType,callback:function(t){e.bedType=t},expression:"bedType"}}),""!==e.botModel?t("q-input",{attrs:{type:" number",label:"BM Mechanism Orientation"},on:{input:function(t){return e.updateParam("orientation")}},model:{value:e.orientation,callback:function(t){e.orientation=t},expression:"orientation"}}):e._e(),e.canRaise&&"Wooden"===e.bedType?t("div",[t("q-checkbox",{attrs:{label:"Raised Bed?",disable:!e.canRaise},on:{input:function(t){return e.updateParam("raised")}},model:{value:e.raised,callback:function(t){e.raised=t},expression:"raised"}})],1):e._e()],1)},z=[],$={name:"BrianMechanism",components:{},props:["brianMechanisms","instanceNumber","agriculture"],data(){return{botModels:[],botModel:"",bedTypes:[],bedType:"",canRaise:!1,raised:!1,orientation:-1}},async created(){this.botModels=this.brianMechanisms.botModels("FarmBot"),this.instance=this.brianMechanisms.instances[this.instanceNumber],this._appManager=this.instance._appManager,this.readParams()},methods:{updateParam(e){this._appManager.updateParam(e,this[e]),this.readParams()},readParams(){let e=this.agriculture.readBotModelParams(),{botModel:t,bedTypes:a,bedType:n,canRaise:i,raised:s,orientation:r}=e;this.botModel=t,this.bedTypes=a,this.bedType=n,this.canRaise=i,this.raised=s,this.orientation=r}},computed:{},watch:{}},E=$,W=Object(p["a"])(E,L,z,!1,null,null,null),j=W.exports;h()(W,"components",{QSelect:T["a"],QInput:q["a"],QCheckbox:k["a"]});var Z=function(){var e=this,t=e._self._c;return t("div",[t("q-expansion-item",{attrs:{icon:"fast_forward","expand-icon-toggle":"","expand-separator":"",label:"Simulation",caption:"Simulation Settings"}},[t("div",{staticClass:"q-pa-md"},[t("q-input",{attrs:{label:"Speed Factor (1-1000)"},on:{input:function(t){return e.updateParam("speedFactor")}},model:{value:e.speedFactor,callback:function(t){e.speedFactor=t},expression:"speedFactor"}})],1)]),t("q-expansion-item",{attrs:{icon:"sports_esports","expand-icon-toggle":"","expand-separator":"",label:"Controllers",caption:"Select Robot Controller"}},[t("div",{staticClass:"q-pa-md"},[t("q-select",{attrs:{filled:"",label:"Controller",options:e.controllers},on:{input:function(t){return e.updateParam("controller")}},model:{value:e.controller,callback:function(t){e.controller=t},expression:"controller"}}),"Cloud"===e.controller?t("q-form",{staticClass:"text-white",on:{submit:e.onSubmit,reset:e.onReset}},[t("q-select",{attrs:{filled:"",label:"Authentication Server",options:e.authenticationServersKeys},on:{input:e.updateAuthServer},model:{value:e.authenticationServer,callback:function(t){e.authenticationServer=t},expression:"authenticationServer"}}),"undefined"!=typeof e.authenticationServer&&""!=e.authenticationServer?t("q-select",{attrs:{filled:"",label:"Authentication Server Url",options:e.authenticationServerUrls},on:{input:function(t){return e.updateParam("authenticationServerUrl")}},model:{value:e.authenticationServerUrl,callback:function(t){e.authenticationServerUrl=t},expression:"authenticationServerUrl"}}):e._e(),t("q-select",{attrs:{filled:"",label:"Control Server",options:e.controlServersKeys},on:{input:e.updateControlServer},model:{value:e.controlServer,callback:function(t){e.controlServer=t},expression:"controlServer"}}),"undefined"!=typeof e.controlServer&&""!=e.controlServer?t("q-select",{attrs:{filled:"",label:"Control Server Url",options:e.controlServerUrls},on:{input:function(t){return e.updateParam("controlServerUrl")}},model:{value:e.controlServerUrl,callback:function(t){e.controlServerUrl=t},expression:"controlServerUrl"}}):e._e(),t("q-input",{attrs:{label:"Email",rules:[e=>e&&e.length>0||"Please enter your email address",t=>e.isValidEmail()||"Invalid email address"]},on:{input:function(t){return e.updateParam("email")}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),t("q-input",{attrs:{label:"Password",type:"password",rules:[e=>null!==e&&""!==e||"Please enter your password"],"error-message":e.passwordErrorMessage},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),t("div",{staticClass:"q-pa-md"},["undefined"!=typeof e.authenticationServerUrl&&""!=e.authenticationServerUrl&&"undefined"!=typeof e.controlServerUrl&&""!=e.controlServerUrl?t("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}):e._e(),t("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"white",flat:""}})],1)],1):e._e()],1)])],1)},K=[],Y=a("1712"),X=a("cf57"),V={name:"controllers",components:{},props:["brianMechanisms","instanceNumber","parent"],data(){return{speedFactor:0,controllers:["Cloud","Keyboard","Joystick"],controller:"",authenticationServer:"",authenticationServers:{},authenticationServersKeys:[],authenticationServerUrls:[],authenticationServerUrl:"",controlServer:"",controlServers:{},controlServersKeys:[],controlServerUrls:[],controlServerUrl:"",proxy:"",proxies:[],email:"",password:"",passwordErrorMessage:""}},async created(){this.instance=this.brianMechanisms.instances[this.instanceNumber],this._appManager=this.instance._appManager,this.appManager=this.instance.appManager,this.readBotModelParams()},methods:{async onSubmit(){if(""===this.authenticationServerUrl||void 0===typeof this.authenticationServerUrl)return this.$q.notify({type:"negative",message:"Authentication Server missing"});if(""===this.controlServerUrl||void 0===typeof this.controlServerUrl)return this.$q.notify({type:"negative",message:"Control Server missing"});this.working=!0,this.showCustom(),this.preApply();let[e,t]=await Object(Y["a"])(this.appManager.getAuth());if(e)return this.working=!1,this.$q.notify({type:"negative",message:e});let a=t;if(this.working=!0,this.showCustom(),[e,t]=await Object(Y["a"])(a.logIn(this.password)),this.working=!1,e)return this.$q.notify({type:"negative",message:e}),this.password="",void(this.passwordErrorMessage=e||e.error||e.message||"wrong email/password");this.$q.notify({type:"positive",message:"Successful login to farmbot cloud."}),this.startController(),this.parent.closeSideBar(!0)},preApply(){this.brianMechanisms.preapplyInstance(),this.appManager=this.instance.appManager},onReset(){this.email=null,this.password=null},isValidEmail(){const e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return e.test(this.email)||"Invalid email"},showCustom(e=""){const t=this.$q.dialog({title:e,message:"",progress:{spinner:X["a"],color:"primary"},persistent:!0,ok:!1}),a=setInterval((()=>{!1===this.working&&(clearInterval(a),t.hide())}),500)},readBotModelParams(){let e=this._appManager.getSizeParams(),{authenticationServerUrl:t,controlServerUrl:a,controlServer:n,authenticationServer:i,authenticationServers:s,controlServers:r,controller:o,email:l,password:c,speedFactor:p}=e;return this.controller=o,"undefined"===typeof this.controller&&(this.controller=this.controllers[0],this.updateParam("controller")),"undefined"===typeof s&&(s={}),this.authenticationServers=s,this.authenticationServersKeys=Object.keys(s),this.authenticationServer=i,"undefined"!==typeof i&&""!==i||(this.authenticationServer=this.authenticationServersKeys[0]),this.updateAuthServer(),"undefined"===typeof t?(this.authenticationServerUrl=this.authenticationServerUrls[0],this.updateParam("authenticationServerUrl")):this.authenticationServerUrl=t,"undefined"===typeof r&&(r={}),this.controlServers=r,this.controlServersKeys=Object.keys(r),"undefined"===typeof n||""===n?(this.controlServer=this.controlServersKeys[0],this.updateParam("controlServer")):this.controlServer=n,this.updateControlServer(),"undefined"===typeof a?(this.controlServerUrl=this.controlServerUrls[0],this.updateParam("controlServerUrl")):this.controlServerUrl=a,this.email=l,this.password=c,this.speedFactor=p,e},updateAuthServer(){let{authenticationServer:e}=this,t=this.authenticationServers||{};t=t[e]||{},this.authenticationServerUrls=Object.values(t).map((e=>e.url)),this.updateParam("authenticationServer")},updateControlServer(){let{controlServer:e}=this,t=this.controlServers||{};t=t[e]||{},this.controlServerUrls=Object.values(t).map((e=>e.url)),this.updateParam("controlServer")},async startController(){let[e,t]=await Object(Y["a"])(this.appManager.getController());if(console.log("na controllers...",e,t),e)return this.$q.notify({type:"negative",message:e});let a=t;return[e,t]=await Object(Y["a"])(a.connect(this.password)),e?this.$q.notify({type:"positive",message:"Connected to Controller"}):void 0},async updateParam(e){switch(e){case"speedFactor":this.speedFactor=this.speedFactor<1?1:this.speedFactor>1e3?1e3:this.speedFactor;break}switch(this._appManager.updateParam(e,this[e]),e){case"controller":"Cloud"!==this.controller&&(this.preApply(),this.startController());break}}},computed:{},watch:{}},D=V,J=a("3b73"),ee=a("0378"),te=Object(p["a"])(D,Z,K,!1,null,null,null),ae=te.exports;h()(te,"components",{QExpansionItem:J["a"],QInput:q["a"],QSelect:T["a"],QForm:ee["a"],QBtn:d["a"]});var ne={name:"agriculture",components:{FarmBot:B,FarmBotMod:R,BMCableBot:O,BMCableBot:O,BrianMechanism:j,controllers:ae},props:["brianMechanisms","instanceNumber","parent"],data(){return{agriculture:null,gardenX:0,gardenY:0,botLength:0,botWidth:0,plantHeight:0,plantHeightLimits:[0,0],botTypes:[],botType:"",orientation:0}},async created(){this.agriculture=this,this.botTypes=this.brianMechanisms.botTypes("Agriculture"),this.instance=this.brianMechanisms.instances[this.instanceNumber],this._appManager=this.instance._appManager,this.readBotModelParams()},methods:{updateBotType(e){this._appManager.updateParam("botType",e)},readBotModelParams(){let e=this._appManager.getSizeParams(),{gardenX:t,gardenY:a,botLength:n,botWidth:i,plantHeight:s,botType:r,botModel:o,plantHeightLimits:l,orientation:c}=e;return this.gardenX=t,this.gardenY=a,this.botLength=n,this.botWidth=i,this.plantHeight=s,this.botType=r,"string"===typeof c&&(c=parseInt(c)),this.orientation="undefined"!==typeof c?c:0,"undefined"!==typeof l&&(this.plantHeightLimits=l),e},updateParam(e){if("plantHeight"===e){let e=this._appManager.getSizeParams(),{plantHeightLimits:t}=e;"undefined"!==typeof t&&(this.plantHeightLimits=t),this.plantHeight=this.plantHeight<this.plantHeightLimits[0]?this.plantHeightLimits[0]:this.plantHeight>this.plantHeightLimits[1]?this.plantHeightLimits[1]:this.plantHeight}this._appManager.updateParam(e,this[e]),this.readBotModelParams()}},computed:{},watch:{}},ie=ne,se=Object(p["a"])(ie,y,v,!1,null,null,null),re=se.exports;h()(se,"components",{QExpansionItem:J["a"],QInput:q["a"],QSelect:T["a"]});var oe=function(){var e=this,t=e._self._c;return t("div",[t("q-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t("q-tab",{attrs:{name:"info",label:"Info"}}),t("q-tab",{attrs:{name:"controls",label:"Controls"}})],1),t("q-tab-panels",{staticClass:"bg-grey-1 q-ma-none full-width q-pa-none",attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t("q-tab-panel",{attrs:{name:"controls"}},[t("q-markdown",[e._v("\n### Controls\n\n|Key|Function|\n|---|--------|\n|z| Zoom Out|\n|Z| Zoom In|\n|C \\(c\\)| Zoom to Center|\n|T (t)| Top View|\n|D (d)| Bottom View|\n|L (l)| Left View|\n|R \\(r\\)| Right View|\n|F (f)| Front View|\n|H (g)| Go Home|\n|Backspace| Emergency Stop|\n|Mouse | Rotate|\n|Mouse Wheel | Zoom|\n\n### Gamepad Controls\n|Key|Function|\n|---|--------|\n|Left Stick x| Zoom|\n|Left Stick y| Z-Axis|\n|Right Stick x| X-Axis|\n|Right Stick y| Y-Axis|\n|Left Stick btn| Go Home|\n|Right Stick btn| Emergency Stop|\n|Buttons(4-7) | Speed |\n\n")])],1),t("q-tab-panel",{attrs:{name:"info"}},["Init"===e.selectedSectionText?t("div",[t("p",{staticClass:"text-subtitle1"},[e._v("Use these settings to set up your simulation. ")]),t("p",[e._v("We have only two types of robots from which you will be able to select. But they can work in a wide range of fields: ")]),t("p",[e._v("1: Farmbot from Farmbot Inc")]),t("p",[e._v("2: Our own AngelBot - the master of cables, rails and prices.")]),t("p",[e._v("AngelBot is so simple you can fabricate it yourself, and so cheap you can afford an army of them. It is designed to be affordable.")]),t("p",{staticClass:"text-subtitle1 underline"},[e._v("You can use this simulator to:")]),t("p",[e._v("1. Test how either of the robots works in any field that is relevant to it.")]),t("p",[e._v("2. Test control code (or sequences) before deploying to the real robot. The advantages of this are manifold.")]),t("p",[e._v("3. Test control code even if you do not have a physical robot.")]),t("p",[e._v("4. Teach programming. This simulator will provide a means of letting the children see the result of the code the develop (to control the robots)")]),t("p",[e._v("5. Control the robot without the webApp")]),t("p",[e._v("6. Compare different features of these two robots")]),t("p",[e._v("6. Compare different features of these two robots")])]):"application"===e.selectedSectionText?t("div",[t("p",[e._v("Select the area in which you'd like to use the robot.")]),t("p",[e._v("The list provides but a simple subset of the areas in which the robots can be used. How else can they be used? - This is left to the imagination of the creative mind.")]),t("p",[e._v("We will keep addition more applications to the list as soon as they have been implemented")])]):"botType"===e.selectedSectionText?t("div",{staticClass:"q-ma-none"},[t("p",[e._v("Select the type of Robot which you'd like to simulate.")]),t("q-expansion-item",{attrs:{"expand-icon-toggle":"","expand-separator":"",label:"Farmbot"}},[t("q-markdown",[e._v("\n### Genesis (Regular)\n|||\n|--|---|\n|Length |3000mm|\n|Width|1500mm|\n|Height|500mm|\n\n### Genesis xl\n|||\n|--|---|\n|Length |6000mm|\n|Width|3000mm|\n|Height|500mm|\n\n### Express (Regular)\n|||\n|--|---|\n|Length |3000mm|\n|Width|1200mm|\n|Height|500mm|\n\n### Express xl\n|||\n|--|---|\n|Length |6000mm|\n|Width|2400mm|\n|Height|500mm|\n\n")])],1),t("q-expansion-item",{attrs:{"expand-icon-toggle":"","expand-separator":"",label:"AngelBot"}},[t("q-markdown",[e._v("\n1. Ground Cable\nGuided by a cable, but supported by the ground.\n2. Aerial Cable \nGuided by a cable, and supported by the same cable.\n3. Ground Rail \nGuided by a rail on the ground.\n4. Aerial Rail\nGuided by a suspended rail.\n          ")])],1)],1):t("p")])],1)],1)},le=[],ce={name:"texts",props:["selectedSectionText"],created(){},components:{},data(){return{tab:"info"}},methods:{},computed:{}},pe=ce,de=(a("c812"),a("429b")),ue=a("7460"),he=a("adad"),me=a("823b"),be=Object(p["a"])(pe,oe,le,!1,null,null,null),fe=be.exports;h()(be,"components",{QTabs:de["a"],QTab:ue["a"],QTabPanels:he["a"],QTabPanel:me["a"],QExpansionItem:J["a"]});var ge={name:"simulatorSideBar",props:["brianMechanisms","instanceNumber","parent"],async created(){this.applications=this.brianMechanisms.applications(),this.application=this.brianMechanisms.instances[this.instanceNumber]._application||""},components:{texts:fe,agriculture:re},data(){return{applications:[],application:"",rightSidebarOpen:!0,splitterModel:50,selectedSectionText:"Init",working:!1}},methods:{closeSelf(e=!0){this.parent.closeSideBar(e)},updateApplication(e){e=e||this.brianMechanisms.instances[this.instanceNumber].application,this.$set(this.brianMechanisms.instances[this.instanceNumber],"_application",e),this.brianMechanisms.startApplication(this.instanceNumber)},showText(e){this.selectedSectionText=e},async applyInstance(){this.closeSelf(!1),this.working=!0,this.showCustom(),console.log(this.instanceNumber);let[e,t]=await Object(Y["a"])(this.brianMechanisms.applyInstance(this.instanceNumber));this.working=!1},showCustom(e=""){const t=this.$q.dialog({title:e,message:"",progress:{spinner:X["a"],color:"primary"},persistent:!0,ok:!1}),a=setInterval((()=>{!1===this.working&&(clearInterval(a),t.hide())}),500)}},computed:{rightSideBarSize(){return this.$q.screen.lt.xs||this.$q.screen.lt.sm||this.$q.screen.lt.md?document.getElementsByTagName("body")[0].clientWidth:.75*document.getElementsByTagName("body")[0].clientWidth}}},ye=ge,ve=a("9404"),Me=a("65c6"),Se=a("6ac5"),xe=a("8562"),we=Object(p["a"])(ye,f,g,!1,null,null,null),Te=we.exports;h()(we,"components",{QDrawer:ve["a"],QToolbar:Me["a"],QToolbarTitle:Se["a"],QBtn:d["a"],QSplitter:xe["a"],QExpansionItem:J["a"],QSelect:T["a"],QInput:q["a"]});var ke={name:"demos",components:{instanceEditBtn:b,simulatorSideBar:Te},data(){return{emptyWorld:"farmbotSimulatorEmpty",world:"farmbotSimulatorGantryless",parent:this,sideBarOpen:!1,instanceNumber:0,selectedInstance:0,brianMechanisms:s["a"],splitterModel:[100,100,100]}},async created(){},methods:{createInstance(){this.brianMechanisms.createInstance(),this.sideBarOpen=!0},openSideBar(e){this.selectedInstance=e,this.sideBarOpen=!1,this.$nextTick((()=>this.sideBarOpen=!0))},closeSideBar(e=!0){e&&this.brianMechanisms.checkBasicData(),this.sideBarOpen=!1}},computed:{disableMoreScreens(){return s["a"].numInstances>=40}},watch:{splitterModel:{handler(e){if(s["a"].numInstances<2){if(this.splitterModel.toString()===[100,100,100].toString())return;setTimeout((()=>{this.splitterModel.toString()!==[100,100,100].toString()&&(this.splitterModel=[100,100,100])}),100)}else if(2===s["a"].numInstances){if(100===this.splitterModel[0]&&100===this.splitterModel[2])return;setTimeout((()=>{100===this.splitterModel[0]&&100===this.splitterModel[2]||(this.splitterModel[0]=100),this.splitterModel[2]=100;let e=this.splitterModel[1];this.splitterModel=[100,e,100]}),100)}else if(3===s["a"].numInstances){if(100===this.splitterModel[2])return;setTimeout((()=>{100!==this.splitterModel[2]&&this.splitterModel.splice(2,1,100)}),100)}},deep:!0},"brianMechanisms.numInstances":{handler(e){switch(s["a"].numInstances){case 1:this.splitterModel=[100,100,100];break;case 2:this.splitterModel=[100,50,100];break;case 3:this.splitterModel=[50,this.splitterModel[1],100];break;case 4:this.splitterModel=[this.splitterModel[0],this.splitterModel[1],50];break}},deep:!0}}},qe=ke,_e=(a("87d9"),a("9989")),Be=a("de5e"),Ce=Object(p["a"])(qe,n,i,!1,null,null,null);t["default"]=Ce.exports;h()(Ce,"components",{QPage:_e["a"],QPageSticky:Be["a"],QBtn:d["a"]})},7072:function(e,t,a){},"87d9":function(e,t,a){"use strict";a("7072")},c812:function(e,t,a){"use strict";a("476a")}}]);